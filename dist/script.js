let covidImg=$(".covid");$(document).ready(function(){$(covidImg).addClass("pulsing")});var stateRepository=function(){var t=[];console.log(t);let e=$("path");var o="https://covidtracking.com/api/states";function n(e){t.push(e)}function i(t){(function(t){return $.ajax(o).then(function(e){console.log(e),t.cases=Object.values(e.positive)}).catch(function(t){console.log(t)})})(t).then(function(){u(t)})}let s,a,l;var c;function r(){return fetch(o).then(function(t){return t.json()}).then(function(t){t.forEach(function(t){for(let o=0;o<e.length;o++)e[o].id===t.state&&t.positive>=4e5?e[o].style.fill="rgb(102,0,0)":e[o].id===t.state&&t.positive>=3e5?e[o].style.fill="rgb(204,0,0)":e[o].id===t.state&&t.positive>=1e5?e[o].style.fill="rgb(255,0,0)":e[o].id===t.state&&t.positive>=5e4?e[o].style.fill="rgb(255,51,51)":e[o].id===t.state&&t.positive>=3e4?e[o].style.fill="rgb(255,102,102)":e[o].id===t.state&&t.positive>=1e4?e[o].style.fill="rgb(255,153,153)":e[o].id===t.state&&t.positive>=5e3?e[o].style.fill="rgb(255,204,204)":e[o].id===t.state&&t.positive<=4999&&(e[o].style.fill="rgb(255,200,200)")})})}function u(t){var e=$(".modal-body"),o=$(".modal-title");e.empty(),o.empty();var n=$("<h5></h5>").text("State: "+t.state);o.append(n);var i=$("<p></p>").text("Positive Cases: "+t.cases.toLocaleString());e.append(i)}return $(e).mouseover(function(){return s=this.id,this.style.strokeWidth="2",this.style.stroke="red",fetch(o).then(function(t){return t.json()}).then(function(t){t.forEach(function(t){s===t.state&&(a=document.querySelector(".covidInfoDiv"),(l=document.querySelector(".state-heading")).textContent=t.state,(c=document.querySelector(".state-cases")).textContent="Cases: "+t.positive.toLocaleString())})})}),$(e).mouseout(function(){s=this.id,this.style.strokeWidth="0.97063118000000004",this.style.stroke="black",l.textContent=" ",c.textContent=" "}),r(),{add:n,getAll:function(){return t},loadList:function(){return fetch(o).then(function(t){return t.json()}).then(function(t){t.forEach(function(t){n(t={state:t.state,cases:t.positive})})})},showModal:u,showDetails:i,mapColor:r,addListItem:function(t){var e=$(".list-group"),o=$('<button type="button" class="btn btn-outline-dark list-group-item" data-target="#exampleModal" data-toggle="modal"></button>');o.text(t.state),e.append(o),o.on("click",function(){i(t)})}}}();stateRepository.loadList().then(function(){stateRepository.getAll().forEach(function(t){stateRepository.addListItem(t)})});